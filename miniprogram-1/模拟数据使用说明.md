# 小程序模拟数据使用说明

## 概述

本项目已集成完整的模拟数据系统，可以在后端服务不可用时，使用模拟数据来查看小程序的展示效果。

## 模拟数据内容

### 1. 用户信息
- **用户名**: 张三
- **手机号**: 13800138000
- **邮箱**: zhangsan@example.com
- **角色**: 农户
- **企业**: 绿色农场合作社

### 2. 产品数据
包含6个不同的蔬菜产品：

1. **有机白菜** (合格)
   - 批次: BT202401001
   - 产地: 山东省寿光市
   - 检测类型: 农药残留检测

2. **绿色菠菜** (合格)
   - 批次: BT202401002
   - 产地: 山东省寿光市
   - 检测类型: 营养成分检测

3. **新鲜胡萝卜** (合格)
   - 批次: BT202402001
   - 产地: 河北省张家口市
   - 检测类型: 重金属检测

4. **有机西红柿** (不合格)
   - 批次: BT202402002
   - 产地: 河北省张家口市
   - 检测类型: 微生物检测

5. **绿色生菜** (合格)
   - 批次: BT202403001
   - 产地: 山东省寿光市
   - 检测类型: 农药残留检测

6. **有机黄瓜** (合格)
   - 批次: BT202403002
   - 产地: 河北省张家口市
   - 检测类型: 营养成分检测

### 3. 二维码数据
每个产品都有对应的二维码信息，包含：
- 二维码ID
- 生成时间
- 扫码次数
- 状态信息

### 4. 企业信息
- 绿色农场合作社
- 有机蔬菜种植基地

## 启用模拟数据

### 方法1: 配置文件设置
在 `config.js` 文件中设置：
```javascript
// 是否使用模拟数据（开发环境可用）
useMockData: true
```

### 方法2: 自动切换
当网络请求失败时，系统会自动切换到模拟数据模式。

## 功能测试

### 1. 首页功能
- ✅ 产品列表展示
- ✅ 搜索功能
- ✅ 筛选功能（全部/合格/不合格）
- ✅ 排序功能（时间/名称）
- ✅ 产品详情跳转
- ✅ 溯源查询

### 2. 扫码功能
- ✅ 扫码溯源
- ✅ 溯源信息展示
- ✅ 扫码结果弹窗

### 3. 产品详情
- ✅ 产品基本信息
- ✅ 检测结果
- ✅ 生产者信息
- ✅ 种植信息

### 4. 我的产品
- ✅ 我的产品列表
- ✅ 产品管理

### 5. 用户中心
- ✅ 用户信息展示
- ✅ 登录功能

## 登录测试

使用以下账号登录：
- **用户名**: admin
- **密码**: 123456

## 扫码测试

可以使用以下二维码ID进行测试：
- QR202401001 (有机白菜)
- QR202401002 (绿色菠菜)
- QR202402001 (新鲜胡萝卜)
- QR202402002 (有机西红柿)
- QR202403001 (绿色生菜)
- QR202403002 (有机黄瓜)

## 注意事项

1. **图片资源**: 所有产品图片都使用默认图片 `/images/default-product.jpg`
2. **网络延迟**: 模拟数据会模拟500ms的网络延迟
3. **数据一致性**: 模拟数据中的关联关系保持一致
4. **错误处理**: 包含正常和异常情况的模拟

## 开发建议

1. **调试模式**: 在开发时建议启用模拟数据模式
2. **数据验证**: 可以通过修改模拟数据来测试不同的业务场景
3. **UI测试**: 使用模拟数据可以快速验证界面展示效果
4. **功能测试**: 可以测试各种用户交互场景

## 文件结构

```
utils/
├── mockData.js          # 模拟数据定义
├── api.js              # API接口（支持模拟数据）
└── util.js             # 工具函数

config.js               # 配置文件（包含模拟数据开关）
```

## 扩展说明

如需添加更多模拟数据，可以：

1. 在 `mockData.js` 中添加新的数据项
2. 在 `MockAPI` 类中添加对应的处理方法
3. 在 `api.js` 中添加模拟数据支持

这样可以确保模拟数据与真实API保持一致的数据结构。 